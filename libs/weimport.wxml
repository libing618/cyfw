<import src="wedetail.wxml" />
<wxs module="mDot">
  module.exports =
    function(i,cArray){ return i==cArray.length-1 ? '' : '、' }
 </wxs>

<template name="c_aslist">
<view class="weui-cell">
  <view class="weui-cell__bd">{{p}}:</view>
  <view class="weui-cell__ft">
    <view wx:for="{{c.sName}}" wx:key="{{index}}">{{item}}{{mDot(index,c.sName)}}</view>
  </view>
</view>
</template>

<template name="c_listsel">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{aList[c]}}</view>
  </view>
</template>

<template name="c_arrsel">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{c.sName}}</view>
  </view>
</template>

<template name="c_objsel">
  <view class="weui-cell">{{p}}:</view>
  <view class="weui-cell">
    <view class="weui-cell__hd"><image src="{{slave.thumbnail}}"/></view>
    <view class="weui-cell__bd">slave.uName</view>
    <view class="weui-cell__bd">slave.title</view>
  </view>
</template>

<template name="c_idsel">
  <view class="weui-cell">{{p}}:</view>
  <view class="weui-cell" id="{{c}}">
    <view class="weui-media-box weui-media-box_appmsg" hover="true" hover-class="weui-cell_active">
      <view class="weui-media-box__hd weui-media-box__hd_in-appmsg">
        <image class="weui-media-box__thumb" src="{{thumbnail}}" background-size="cover"></image>
      </view>
      <view class="weui-media-box__bd weui-media-box__bd_in-appmsg">
        <view class="weui-media-box__title">{{uName}}</view>
        <view class="weui-media-box__desc">{{title}}</view>
      </view>
    </view>
  </view>
</template>

<template name="c_specsel">
<wxs module="sstock">
  module.exports = {
    scale: function(spec,pkn){
      var sc = (spec.payment+spec.delivering+spec.delivered)/pkn;
      return sc.toFixed(0)
    },
    csupply: function(spec,pkn){
      var cs = spec.canSupply/pkn-0.5;
      return cs.toFixed(0)
    }
  }
</wxs>
  <view class="weui-cell">{{p}}:</view>
  <view class="weui-cells">
    <block wx:for="{{c}}" wx:key="{{index}}" wx:for-item="specsId">
      <view class="weui-media-box weui-media-box_appmsg" hover="true" hover-class="weui-cell_active">
        <view class="weui-media-box__hd weui-media-box__hd_in-appmsg">
          <image class="weui-media-box__thumb" src="{{master[specsId].thumbnail}}" background-size="cover"></image>
        </view>
        <view class="weui-media-box__bd weui-media-box__bd_in-appmsg">
          <view class="weui-media-box__title">{{slave[specsId].uName}}/{{master[specsId].package}}份装/{{master[specsId].price}}元</view>
          <view class="weui-media-box__desc">{{master[specsId].title}}</view>
          <view class="weui-media-box__desc">已售{{sstock.scale(slave[specsId],master[specsId].package)}},库存{{sstock.csupply(slave[specsId],maste[specsId].package)}}</view>
        </view>
      </view>
    </block>
  </view>
</template>

<template name="c_float">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{c}}</view>
  </view>
</template>

<template name="c_number">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{c}}</view>
  </view>
</template>

<template name="s_p">
  <view class="weui-article__p">
    <text>{{c}}</text>
  </view>
</template>

<template name="s_pics">
  <swiper class="swiper_box" indicator-dots="{{false}}" autoplay="{{true}}">
    <block wx:for="{{c}}" wx:key="{{index}}">
      <swiper-item>
        <image src="{{item}}" class="swimage"></image>
      </swiper-item>
    </block>
  </swiper>
</template>

<template name="s_inScan">
  <view class="weui-cell">
    <view class="weui-cell__hd">{{p}}:</view>
    <view class="weui-cell__bd">{{c}}</view>
  </view>
</template>

<template name="s_h1">
  <view class="weui-article__h1">{{c}}</view>
</template>

<template name="s_h2">
  <view class="weui-article__h2">{{c}}</view>
</template>

<template name="s_h3">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{c}}</view>
  </view>
</template>

<template name="s_h4">
  <view class="weui-cell" style="font-size: 24rpx;">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{c}}</view>
  </view>
</template>

<template name="s_chooseAd">
  <view class="weui-label">{{p}}:</view>
  <map longitude="{{c.longitude}}" latitude="{{c.latitude}}" scale="28" show-location style="width: 100%; height: 300px;"></map>
</template>

<template name="s_ed">
  <view class="weui-cell__hd">
    <view class="weui-label">{{p}}:</view>
  </view>
  <view class="weui-cell__bd">{{c.sName}}</view>
</template>

<template name="s_eDetail">
  <view class="weui-article">
    <block wx:for="{{c}}" wx:key="{{index}}">
      <view class="weui-article__{{item.t}}" id="ad-{{index}}">
        <view wx:if="{{item.t<0}}">
          <template is="{{item.t}}" data="{{...item}}"></template>
        </view>
        <view wx:if="{{item.e}}">{{item.e}}</view>
      </view>
    </block>
  </view>
</template>

<template name="s_pic">
  <view class="weui-article__-2">{{p}}:</view>
  <image src="{{c}}" style="width: 100%;" mode="aspectFit"></image>
</template>

<template name="s_thumb">
  <image src="{{c}}" style="width: 100%;" mode="aspectFit"></image>
</template>

<template name="s_vidio">
  <view class="weui-article__-4">{{p}}:</view>
  <video src="{{c}}" controls></video>
</template>

<template name="s_arrList">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">
      <view wx:for="{{c}}" wx:key="{{index}}">{{ item }}{{mDot(index,c)}}</view>
    </view>
  </view>
</template>

<template name="s_sedate">
  <view class="weui-cell">
    <view class="weui-cell__hd">{{p}}:</view>
    <view class="weui-cell__bd">自{{c[0]}}到{{c[1]}}</view>
  </view>
</template>

<template name="s_sCargo">
  <view class="weui-cell">
    <view class="weui-cell__bd">{{p}}:</view>
    <view class="weui-cell__ft">{{ ad[c].uName }}</view>
  </view>
</template>

<template name="s_MS">
  <view hidden="true">{{c}}</view>
</template>

<template name="s_table">
  <view class="weui-table">
    <view class="weui-table_tr weui-table_bw" bingtap="s_check">
      <view wx:for="{{p}}" wx:key="{{index}}"><view class="weui-table_th">item</view></view>
    </view>
    <view hidden="{{inclose}}">
      <view wx:for="{{c}}" wx:key="{{index}}" wx:for-index="i" wx:for-item="ci">
        <block  wx:for="{{ci[i]}}" wx:key="{{index}}">
          <view clase="weui-table_tr" class="weui-table_td {{i%2 ==0 ? 'weui-table_bw' : ''}}">item</view>
        </block>
      </view>
    </view>
  </view>
</template>

<template name="showgrids">
<view class="weui-grids">
  <block wx:for="{{grids}}" wx:key="{{index}}">
    <navigator url="{{item.tourl}}" class="weui-grid" hover-class="weui-grid_active">
      <image class="weui-grid__icon" src="{{item.mIcon}}" />
      <view class="weui-grid__label">{{item.mName}}</view>
    </navigator>
  </block>
</view>
</template>

<template name="tabsCk">
<view class="weui-navbar">
  <block wx:for="{{tabs}}" wx:key="{{index}}">
    <view id="{{index}}" class="weui-navbar__item {{ pageCk==index ? 'weui-bar__item_on' : ''}}" bindtap="tabClick">
      <view class="weui-navbar__title">{{item}}</view>
    </view>
  </block>
  <view class="weui-navbar__slider" style="left:{{(wWidth/fLength-72)/2}}px; transform: translateX(0px); -webkit-transform: translateX({{pageCk*wWidth/fLength}}px)"></view>
</view>
</template>

<template name="tabPanel">
<view class="weui-tab__panel">
  <block wx:for="{{tPage}}" wx:key="{{index}}">
    <navigator url="/pages/vprocedure/vprocedure?pNo={{pNo}}&artId={{item}}&uId={{pageData[item].unitId}}">
      <view class="weui-media-box weui-media-box_appmsg" hover="true" hover-class="weui-cell_active">
        <view class="weui-media-box__hd weui-media-box__hd_in-appmsg">
          <image class="weui-media-box__thumb" src="{{pageData[item].thumbnail}}" background-size="cover"></image>
        </view>
        <view class="weui-media-box__bd weui-media-box__bd_in-appmsg">
          <view class="weui-media-box__title">{{pageData[item].uName}}</view>
          <view class="weui-media-box__desc">{{pageData[item].title}}</view>
        </view>
      </view>
    </navigator>
  </block>
</view>
</template>
